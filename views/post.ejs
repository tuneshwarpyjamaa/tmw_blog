<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= post.title %> - The Mandate Wire</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <header>
        <div class="logo"><a href="/posts">The Mandate <span class="accent">Wire</span></a></div>
        <nav>
            <a href="/posts">Home</a>
            <a href="/category/policy">Policy</a>
            <a href="/category/global-affairs">Global Affairs</a>
            <a href="/category/technology">Technology</a>
            <a href="/category/opinion">Opinion</a>
            <a href="/about">About</a>
        </nav>
        <div class="user-menu">
            <% if (userId) { %>
                <a href="/posts/create">Create Post</a>
                <form action="/auth/logout" method="post" style="display:inline;">
                    <button type="submit">Logout</button>
                </form>
            <% } else { %>
                <a href="/auth/login">Login</a>
                <a href="/auth/register">Register</a>
            <% } %>
        </div>
        <div class="hamburger">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </header>
    <main>
        <article class="article-detail">
            <h1><%= post.title %></h1>
            <p class="meta">By <%= post.username %> ‚Ä¢ <%= new Date(post.published_at || post.created_at).toLocaleDateString() %> ‚Ä¢ 5 min read</p>
            <!-- Featured Image placeholder -->
            <!-- <img src="featured-image.jpg" alt="Featured Image"> -->
            <div class="content"><%= post.content %></div>
            <% if (userId && userId == post.author_id) { %>
                <div style="margin-top: 2rem;">
                    <a href="/posts/<%= post.post_id %>/edit">Edit</a>
                    <form action="/posts/<%= post.post_id %>/delete" method="post" style="display:inline; margin-left: 1rem;">
                        <button type="submit">Delete</button>
                    </form>
                </div>
            <% } %>
        </article>

        <!-- Author Bio placeholder -->
        <section class="author-bio" style="background: var(--secondary); padding: 2rem; margin: 2rem 0; border-radius: 8px;">
            <h3>About the Author</h3>
            <div style="display: flex; align-items: center;">
                <img src="https://via.placeholder.com/80" alt="Author" style="border-radius: 50%; margin-right: 1rem;">
                <div>
                    <strong><%= post.username %></strong>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
                </div>
            </div>
        </section>

        <!-- Related Articles placeholder -->
        <section class="related-articles">
            <h3>Related Articles</h3>
            <div class="grid">
                <!-- Placeholder for related posts -->
                <article class="article-card">
                    <h3><a href="#">Related Article 1</a></h3>
                    <p class="excerpt">Excerpt of related article...</p>
                    <p class="meta">Author ‚Ä¢ Date</p>
                </article>
                <article class="article-card">
                    <h3><a href="#">Related Article 2</a></h3>
                    <p class="excerpt">Excerpt of related article...</p>
                    <p class="meta">Author ‚Ä¢ Date</p>
                </article>
            </div>
        </section>

        <section class="comments">
            <h3>Comments</h3>
            <% comments.forEach(comment => { %>
                <div class="comment">
                    <p><strong><%= comment.username %></strong> on <%= new Date(comment.created_at).toLocaleDateString() %></p>
                    <p><%= comment.content %></p>
                </div>
            <% }); %>
            <% if (userId) { %>
                <form action="/comments/<%= post.post_id %>" method="post">
                    <textarea name="content" required></textarea>
                    <button type="submit">Add Comment</button>
                </form>
            <% } %>
        </section>
    </main>
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <div class="footer-logo">The Mandate <span class="accent">Wire</span></div>
                <p>Delivering quality content and fostering community engagement.</p>
            </div>
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="/about">About</a></li>
                    <li><a href="/contact">Contact</a></li>
                    <li><a href="/privacy">Privacy</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Follow Us</h3>
                <div class="social-icons">
                    <a href="#" aria-label="Twitter">üê¶</a>
                    <a href="#" aria-label="Facebook">üìò</a>
                    <a href="#" aria-label="LinkedIn">üíº</a>
                </div>
            </div>
            <div class="footer-section">
                <h3>Newsletter</h3>
                <p>Stay updated with the latest insights.</p>
                <div class="footer-newsletter">
                    <input type="email" placeholder="Enter your email">
                    <button type="submit">Subscribe</button>
                </div>
            </div>
        </div>
        <p>&copy; 2025 The Mandate Wire. All rights reserved.</p>
    </footer>
</body>
</html>